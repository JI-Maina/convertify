{% extends "layout.html" %}
{% block content %}

    {% if file_url %}

    <div class="row">

        <div class="col mt-2">
            <div>
                <h4>Original image</h4><small> (format: {{ file_format }} ) - (size: {{ file_size }} kb)</small>
            </div>
            <img class="mt-2 img-responsive" src="{{ file_url }}" style="max-height: auto; max-width: auto;">

        </div>

        <div class="col mt-2">

            <div>
                <div class="d-flex justify-content-between">
                    <h4>Converted image</h4>
                    <a href="/download/{{ filename }}" target="blank"><button class='btn btn-success'>Download!</button></a>
                </div>
                <small>(format: {{ cvt_format }} ) - (size: {{ cvt_size }} kb)</small>
            </div>

            <img class="mt-2 img-responsive" src="{{ cvt_url }}" style="height: auto; width: auto;">

        </div>

    </div>

    {% endif %}


    <div>
        <h3 class="my-4" style="font-weight: 400;">Upload Image to convert</h3>
        
        <form action="/convert" method="post" enctype="multipart/form-data">
            
            <div class="input-group mb-3">
                <input type="file" class="form-control" id="img" name="img">
                <label class="input-group-text" for="img">Upload</label>
            </div>
            
            <div class="input-group mb-3">
                <select class="form-select" id="operation" name="operation">
                    <option selected>Choose convert operation</option>
                    <option value="cjpg">Convert to JPG</option>
                    <option value="cpng">Convert to PNG</option>
                    <option value="cwebp">Convert to WEBP</option>
                    <option value="cgray">Convert to GRAYSCALE</option>
                </select>
                <label class="input-group-text" for="operation">Options</label>
            </div>
            
            <button type="submit" class="btn btn-primary">Convert</button>
        </form>
    </div>

{% endblock content %}
